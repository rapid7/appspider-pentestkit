import React from 'react';
import {
    Button,
    Textarea,
    Input,
    InputSize,
} from 'rapid7-ui';

import { useMacroRecorder } from './useMacro';
import { StyledMacroContent } from './styledMacro';

const Macro = () => {
    const {
        macro,
        url,
        setUrl,
        startRecording,
    } = useMacroRecorder();

    return (
        <StyledMacroContent>
            <Input
                size={InputSize.FULL}
                placeholder="http://www.example.com"
                value={url}
                onChange={event => setUrl(event.target.value)}
            />
            <Button
                className="start_clean_cookie"
                onClick={startRecording}
            >
                Start
            </Button>
            <Textarea
                name="recording_output"
                id="recording_output"
                rows="30"
                placeholder="Macro"
                value={macro}
                style={{ width: '100%' }}
            />
        </StyledMacroContent>
    );
};

export default Macro;
