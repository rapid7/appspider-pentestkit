import React from 'react';
import {
    Button,
    Textarea,
    Input,
    InputSize,
} from 'rapid7-ui';

import { useMacroRecorder } from './useMacro';
import {
 StyledMacroContent,
StyledMacroControls,
StyledMacroRecorderAndControls, 
} from './styledMacro';

const Macro = () => {
    const {
        macro,
        url,
        setUrl,
        startRecording,
    } = useMacroRecorder();

    return (
        <StyledMacroContent>
            <Input
                size={InputSize.FULL}
                placeholder="http://www.example.com"
                value={url}
                onChange={event => setUrl(event.target.value)}
            />
            <StyledMacroRecorderAndControls>
            <Textarea
                name="recording_output"
                id="recording_output"
                placeholder="Macro"
                value={macro}
            />
            <StyledMacroControls>
                <Button
                    className="start_clean_cookie"
                    onClick={startRecording}
                >
                    Start
                </Button>
            </StyledMacroControls>
            </StyledMacroRecorderAndControls>
        </StyledMacroContent>
    );
};

export default Macro;
